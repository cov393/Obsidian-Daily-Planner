import Chart from "chart.js/auto";
const yaml = require("js-yaml");
export class TableChart {
    constructor() { }
    /**
     * Build a chart from YAML (or use demo data)
     */
    renderChart(source, el) {
        const container = el.createEl("div", { cls: "stacked-bar-chart-container" });
        const canvas = container.createEl("canvas");
        const ctx = canvas.getContext("2d");
        let chartData;
        try {
            const parsed = yaml.load(source);
            if (parsed && parsed.labels && parsed.datasets) {
                chartData = parsed;
            }
            else {
                chartData = this.getDemoData();
            }
        }
        catch (e) {
            chartData = this.getDemoData();
        }
        if (ctx) {
            new Chart(ctx, {
                type: "bar",
                data: chartData,
                options: {
                    plugins: {
                        title: {
                            display: true,
                            text: "Completed Habits Per Day",
                            font: { size: 18, weight: "bold" }
                        },
                    },
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            stacked: true,
                            title: { display: true, text: "Days of Week" }
                        },
                        y: {
                            stacked: true,
                            beginAtZero: true,
                            max: 7,
                            title: { display: true, text: "Number of Exercises" }
                        }
                    }
                }
            });
        }
    }
    /**
     * Demo data (if YAML is empty or has an error)
     */
    getDemoData() {
        return {
            labels: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
            datasets: [
                { label: "Glutes", data: [1, 0, 1, 0, 1, 1, 0], backgroundColor: "#ff69b4" },
                { label: "Legs", data: [1, 1, 0, 1, 1, 1, 1], backgroundColor: "#4169e1" },
                { label: "Brists", data: [1, 1, 1, 0, 1, 1, 1], backgroundColor: "#20b2aa" },
                { label: "Back", data: [0, 1, 1, 1, 1, 0, 1], backgroundColor: "#ffd700" },
                { label: "Shoulders", data: [1, 0, 1, 1, 0, 1, 1], backgroundColor: "#9370db" },
                { label: "Jogging", data: [1, 1, 1, 1, 1, 1, 0], backgroundColor: "#ffa500" },
                { label: "Yoga", data: [0, 0, 0, 1, 0, 0, 0], backgroundColor: "#696969" }
            ]
        };
    }
    /**
     * Generate a ready-made Markdown file with demo data
     */
    generateDemoFileContent() {
        return `# üèãÔ∏è Weekly Health Tracker

\`\`\`stacked-bar-chart
labels:
  - Monday
  - Tuesday
  - Wednesday
  - Thursday
  - Friday
  - Saturday
  - Sunday
datasets:
  - label: Glutes
    data: [1, 0, 1, 0, 1, 1, 0]
    backgroundColor: "#ff69b4"
  - label: Legs
    data: [1, 1, 0, 1, 1, 1, 1]
    backgroundColor: "#4169e1"
  - label: Yoga
    data: [0, 0, 0, 1, 0, 0, 0]
    backgroundColor: "#696969"
\`\`\`
`;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhY2tlZC1iYXItY2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi91dGlscy9zdGFja2VkLWJhci1jaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQW9CLE1BQU0sZUFBZSxDQUFDO0FBRWpELE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQVdoQyxNQUFNLE9BQU8sVUFBVTtJQUNuQixnQkFBZSxDQUFDO0lBRWhCOztPQUVHO0lBQ0ksV0FBVyxDQUFDLE1BQWMsRUFBRSxFQUFlO1FBQzlDLE1BQU0sU0FBUyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsR0FBRyxFQUFFLDZCQUE2QixFQUFFLENBQUMsQ0FBQztRQUM3RSxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVDLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFcEMsSUFBSSxTQUF5QixDQUFDO1FBRTlCLElBQUk7WUFDQSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBbUIsQ0FBQztZQUNuRCxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxRQUFRLEVBQUU7Z0JBQzVDLFNBQVMsR0FBRyxNQUFNLENBQUM7YUFDdEI7aUJBQU07Z0JBQ0gsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzthQUNsQztTQUNKO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ2xDO1FBRUQsSUFBSSxHQUFHLEVBQUU7WUFDTCxJQUFJLEtBQUssQ0FBQyxHQUFnQixFQUFFO2dCQUN4QixJQUFJLEVBQUUsS0FBSztnQkFDWCxJQUFJLEVBQUUsU0FBUztnQkFDZixPQUFPLEVB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b20gXCJjaGFydC5qcy9hdXRvXCI7XHJcblxyXG5jb25zdCB5YW1sID0gcmVxdWlyZShcImpzLXlhbWxcIik7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhhYml0Q2hhcnREYXRhIHtcclxuICAgIGxhYmVsczogc3RyaW5nW107XHJcbiAgICBkYXRhc2V0czoge1xyXG4gICAgICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICAgICAgZGF0YTogbnVtYmVyW107XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XHJcbiAgICB9W107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJsZUNoYXJ0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1aWxkIGEgY2hhcnQgZnJvbSBZQU1MIChvciB1c2UgZGVtbyBkYXRhKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyQ2hhcnQoc291cmNlOiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGVsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBcInN0YWNrZWQtYmFyLWNoYXJ0LWNvbnRhaW5lclwiIH0pO1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRhaW5lci5jcmVhdGVFbChcImNhbnZhc1wiKTtcclxuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgICAgICBsZXQgY2hhcnREYXRhOiBIYWJpdENoYXJ0RGF0YTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0geWFtbC5sb2FkKHNvdXJjZSkgYXMgSGFiaXRDaGFydERhdGE7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZWQgJiYgcGFyc2VkLmxhYmVscyAmJiBwYXJzZWQuZGF0YXNldHMpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0RGF0YSA9IHBhcnNlZDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0RGF0YSA9IHRoaXMuZ2V0RGVtb0RhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY2hhcnREYXRhID0gdGhpcy5nZXREZW1vRGF0YSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgICAgICBuZXcgQ2hhcnQoY3R4IGFzIENoYXJ0SXRlbSwgeyBcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYmFyXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBjaGFydERhdGEsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiQ29tcGxldGVkIEhhYml0cyBQZXIgRGF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7IHNpemU6IDE4LCB3ZWlnaHQ6IFwiYm9sZFwiIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogeyBkaXNwbGF5OiB0cnVlLCB0ZXh0OiBcIkRheXMgb2YgV2Vla1wiIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiA3LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHsgZGlzcGxheTogdHJ1ZSwgdGV4dDogXCJOdW1iZXIgb2YgRXhlcmNpc2VzXCIgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZW1vIGRhdGEgKGlmIFlBTUwgaXMgZW1wdHkgb3IgaGFzIGFuIGVycm9yKVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldERlbW9EYXRhKCk6IEhhYml0Q2hhcnREYXRhIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsYWJlbHM6IFtcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCIsIFwiU3VuZGF5XCJdLFxyXG4gICAgICAgICAgICBkYXRhc2V0czogW1xyXG4gICAgICAgICAgICAgICAgeyBsYWJlbDogXCJHbHV0ZXNcIiwgZGF0YTogWzEsIDAsIDEsIDAsIDEsIDEsIDBdLCBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmNjliNFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiBcIkxlZ3NcIiwgZGF0YTogWzEsIDEsIDAsIDEsIDEsIDEsIDFdLCBiYWNrZ3JvdW5kQ29sb3I6IFwiIzQxNjllMVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiBcIkJyaXN0c1wiLCBkYXRhOiBbMSwgMSwgMSwgMCwgMSwgMSwgMV0sIGJhY2tncm91bmRDb2xvcjogXCIjMjBiMmFhXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgbGFiZWw6IFwiQmFja1wiLCBkYXRhOiBbMCwgMSwgMSwgMSwgMSwgMCwgMV0sIGJhY2tncm91bmRDb2xvcjogXCIjZmZkNzAwXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgbGFiZWw6IFwiU2hvdWxkZXJzXCIsIGRhdGE6IFsxLCAwLCAxLCAxLCAwLCAxLCAxXSwgYmFja2dyb3VuZENvbG9yOiBcIiM5MzcwZGJcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBsYWJlbDogXCJKb2dnaW5nXCIsIGRhdGE6IFsxLCAxLCAxLCAxLCAxLCAxLCAwXSwgYmFja2dyb3VuZENvbG9yOiBcIiNmZmE1MDBcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBsYWJlbDogXCJZb2dhXCIsIGRhdGE6IFswLCAwLCAwLCAxLCAwLCAwLCAwXSwgYmFja2dyb3VuZENvbG9yOiBcIiM2OTY5NjlcIiB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgYSByZWFkeS1tYWRlIE1hcmtkb3duIGZpbGUgd2l0aCBkZW1vIGRhdGFcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdlbmVyYXRlRGVtb0ZpbGVDb250ZW50KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGAjIPCfj4vvuI8gV2Vla2x5IEhlYWx0aCBUcmFja2VyXHJcblxyXG5cXGBcXGBcXGBzdGFja2VkLWJhci1jaGFydFxyXG5sYWJlbHM6XHJcbiAgLSBNb25kYXlcclxuICAtIFR1ZXNkYXlcclxuICAtIFdlZG5lc2RheVxyXG4gIC0gVGh1cnNkYXlcclxuICAtIEZyaWRheVxyXG4gIC0gU2F0dXJkYXlcclxuICAtIFN1bmRheVxyXG5kYXRhc2V0czpcclxuICAtIGxhYmVsOiBHbHV0ZXNcclxuICAgIGRhdGE6IFsxLCAwLCAxLCAwLCAxLCAxLCAwXVxyXG4gICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZjY5YjRcIlxyXG4gIC0gbGFiZWw6IExlZ3NcclxuICAgIGRhdGE6IFsxLCAxLCAwLCAxLCAxLCAxLCAxXVxyXG4gICAgYmFja2dyb3VuZENvbG9yOiBcIiM0MTY5ZTFcIlxyXG4gIC0gbGFiZWw6IFlvZ2FcclxuICAgIGRhdGE6IFswLCAwLCAwLCAxLCAwLCAwLCAwXVxyXG4gICAgYmFja2dyb3VuZENvbG9yOiBcIiM2OTY5NjlcIlxyXG5cXGBcXGBcXGBcclxuYDtcclxuICAgIH1cclxufVxyXG4iXX0=